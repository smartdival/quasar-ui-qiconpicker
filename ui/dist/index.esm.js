/*!
 * @quasar/quasar-ui-qiconpicker v1.4.3
 * (c) 2022 Jeff Galbraith <jeff@quasar.dev>
 * Released under the MIT License.
 */
import{QResizeObserver,QPagination,QScrollArea,QTooltip,QBtn}from"quasar";var version$1="1.4.3",version="1.0.10",CSS_COLOR_NAMES=["transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],QColorizeMixin={name:"QColorizeMixin",props:{color:String},methods:{isNamedCssColor:function(i){return!!i&&CSS_COLOR_NAMES.includes(i.toLowerCase())},isCssColor:function(i){return!!i&&(!!i.match(/^(#|(rgb|hsl)a?\()/)||this.isNamedCssColor(i))},isCssVar:function(i){return!!i&&i.startsWith("--")},calculateColor:function(i,t){return void 0===t&&(t="black"),void 0===i&&void 0!==t?this.calculateColor(t):this.isCssColor(i)?i:this.makeQuasarColorVar(i,t)},makeQuasarColorVar:function(i,t){return"var("+(this.isCssVar(i)?i:"--q-color-"+i)+", '"+t+"')"},isValidCssColor:function(i){return this.isCssColor(i)||this.isCssVar(i)},setBothColors:function(i,t,e){return void 0===e&&(e={}),this.setTextColor(i,this.setBackgroundColor(t,e))},setBackgroundColor:function(i,t){var e;if(void 0===t&&(t={}),this.isValidCssColor(i)){var n=this.calculateColor(i);void 0===t.style&&(t.style={}),t.style=Object.assign({},t.style,{"background-color":""+n})}else if(i){var o=i.toString().trim();void 0===t.class&&(t.class={}),t.class=Object.assign({},t.class,((e={})["bg-"+o]=!0,e))}return t},setTextColor:function(i,t){var e;if(void 0===t&&(t={}),this.isValidCssColor(i)){var n=this.calculateColor(i);void 0===t.style&&(t.style={}),t.style=Object.assign({},t.style,{color:""+n,"caret-color":""+n})}else if(i){var o=i.toString().trim();void 0===t.class&&(t.class={}),t.class=Object.assign({},t.class,((e={})["text-"+o]=!0,e))}return t},setBorderColor:function(i,t){var e;if(void 0===t&&(t={}),this.isValidCssColor(i)){var n=this.calculateColor(i);void 0===t.style&&(t.style={}),t.style=Object.assign({},t.style,{"border-color":""+n})}else if(i){var o=i.toString().trim();void 0===t.class&&(t.class={}),t.class=Object.assign({},t.class,((e={})["border-color-"+o]=!0,e))}return t}}};QColorizeMixin.version=version;var props={base:{value:String,iconSet:{type:String,validator:function(i){return["material-icons","material-icons-outlined","material-icons-round","material-icons-sharp","ionicons-v4","mdi-v4","mdi-v5","mdi-v6","fontawesome-v5","eva-icons","themify","line-awesome","bootstrap-icons",""].includes(i)},default:""},icons:Array,filter:String,tags:Array,dense:Boolean,tooltips:Boolean,noFooter:Boolean,fontSize:{type:String,default:"inherit"},selectedColor:{type:String,default:"grey-1"},selectedBackgroundColor:{type:String,default:"primary"},paginationProps:{type:Object,default:function(){return{maxPages:5,input:!0}}},pagination:Object,animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"}}},Component={name:"QIconPicker",mixins:[QColorizeMixin],props:Object.assign({},props.base),data:function(){return{iconsList:[],innerPagination:{page:1,itemsPerPage:0,totalPages:0},categories:[],width:"100%",height:"100%"}},beforeMount:function(){this.pagination&&this.$emit("update:pagination",Object.assign({},this.__computedPagination))},mounted:function(){this.iconSet?this.__loadIconSet(this.iconSet):void 0!==this.icons&&this.icons.length>0&&(this.iconsList=this.icons),this.__updatePagination()},computed:{__filteredIcons:function(){var i=this,t=this.iconsList;return t&&(void 0!==this.tags&&""!==this.tags&&null!==this.tags&&this.tags.length>0&&(t=t.filter(function(t){return t.tags.filter(function(t){return i.tags.includes(t)}).length>0})),void 0!==this.filter&&""!==this.filter&&null!==this.filter&&(t=t.filter(function(t){return t.name.includes(i.filter)}))),t},__displayedIcons:function(){var i=[];return this.iconsList&&(i=this.__filteredIcons,this.pagination&&0!==this.pagination.itemsPerPage&&(i=i.slice(this.__firstItemIndex,this.__lastItemIndex))),i},__computedPagination:function(){return this.__fixPagination(Object.assign({},this.innerPagination,this.pagination))},__firstItemIndex:function(){var i=this.__computedPagination;return(i.page-1)*i.itemsPerPage},__lastItemIndex:function(){var i=this.__computedPagination;return i.page*i.itemsPerPage},__isFirstPage:function(){return 1===this.__computedPagination.page},__pagesNumber:function(){return 0===this.__computedPagination.itemsPerPage?1:Math.max(1,Math.ceil(this.__filteredIcons.length/this.__computedPagination.itemsPerPage))},__isLastPage:function(){return 0===this.__lastItemIndex||this.__computedPagination.page>=this.__pagesNumber}},watch:{iconSet:function(i){var t=this;i&&(this.__loadIconSet(i),this.__updatePagination(),this.$nextTick(function(){t.__setPagination({page:1})}),this.$refs.scrollArea.setScrollPosition(0))},icons:function(i){var t=this;void 0!==this.icons&&this.icons.length>0&&(this.iconsList=this.icons),this.__updatePagination(),this.$nextTick(function(){t.__setPagination({page:1})}),this.$refs.scrollArea.setScrollPosition(0)},pagination:function(i,t){this.__samePagination(t,i)||this.__updatePagination()},"pagination.itemsPerPage":function(){this.__updatePagination()},"pagination.page":function(){this.__updatePagination()},filter:function(){this.__setPagination({page:1,totalPages:this.__pagesNumber}),this.__updatePagination()},tags:function(i){this.__setPagination({page:1,totalPages:this.__pagesNumber}),this.__updatePagination()}},methods:{__loadIconSet:function(i){if(this.iconsList=[],i)if(window.QIconPicker){var t=i.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()});if(window.QIconPicker.iconSet&&window.QIconPicker.iconSet[t]){var e=window.QIconPicker.iconSet[t];this.iconsList=e.icons}else console.error("QIconPicker: no icon set loaded called "+i+"'"),console.error("Be sure to load the UMD version of the icon set in a script tag before using QIconPicker UMD version")}else try{var n=require("@quasar/quasar-ui-qiconpicker/src/components/icon-set/"+i+".js").default;this.iconsList=n.icons}catch(t){console.error("QIconPicker: cannot find icon set found called "+i+"'")}},__fixPagination:function(i){return i.page<1&&(i.page=1),(void 0===i.itemsPerPage||i.itemsPerPage<1)&&(i.itemsPerPage=0),i},__samePagination:function(i,t){for(var e in t)if(t[e]!==i[e])return!1;return!0},__setPagination:function(i){var t=this.__fixPagination(Object.assign({},this.__computedPagination,i));this.pagination?this.$emit("update:pagination",t):this.innerPagination=t},__updatePagination:function(){void 0!==this.pagination&&this.__setPagination({total:this.__filteredIcons.length,totalPages:this.__pagesNumber})},prevPage:function(){var i=this.__computedPagination.page;i>1&&this.__setPagination({page:i-1})},nextPage:function(){var i=this.__computedPagination,t=i.page,e=i.itemsPerPage;this.__lastItemIndex>0&&t*e<this.__filteredIcons.length&&this.__setPagination({page:t+1})},__getCategories:function(){var i=[];return this.iconsList.forEach(function(t){var e=t.tags;e&&e.length>0&&e.forEach(function(t){!0!==i.includes(t)&&i.push(t)})}),i.sort(),this.categories=i,!0},__onResize:function(i){this.width=i.width,this.height=i.height},__renderBody:function(i){return i("div",{staticClass:"q-icon-picker__body col column"},[this.__renderScrollArea(i),i(QResizeObserver,{on:{resize:this.__onResize}})])},__renderFooter:function(i){var t=this.$scopedSlots.footer;return i("div",{staticClass:"q-icon-picker__footer flex flex-center"},[t?t(this.__computedPagination):this.__renderPagination(i)])},__renderPagination:function(i){var t=this;if(this.pagination&&0===this.pagination.itemsPerPage)return"";var e=this.$scopedSlots.pagination,n=this.__computedPagination,o=n.page,a=n.totalPages;return e||i(QPagination,this.setBothColors(this.color,this.backgroundColor,{staticClass:"q-icon-picker__pagination",props:Object.assign({},this.paginationProps,{value:o,max:a}),on:{input:function(i){t.__setPagination({page:i})}}}))},__renderScrollArea:function(i){return i(QScrollArea,{ref:"scrollArea",style:{width:this.width+"px",height:this.height+"px"}},[this.__renderContainer(i)])},__renderContainer:function(i){var t=i("div",{key:this.__computedPagination.page,staticClass:"q-icon-picker__container col"},[].concat(this.__renderIcons(i)));return!0===this.animated?i("transition",{props:{name:"q-transition--"+("prev"===this.direction?this.transitionPrev:this.transitionNext),appear:!0}},[t]):t},__renderTooltip:function(i,t){return i(QTooltip,{},t)},__renderIcons:function(i){var t=this;return this.__displayedIcons.map(function(e){return t.__renderIcon(i,e)})},__renderIcon:function(i,t){var e=this,n=this.$scopedSlots.icon,o=void 0!==t.prefix?t.prefix+" "+t.name:t.name;if(n)return n(o);var a=o===this.value,s=a?this.selectedColor:"",r=a?this.selectedBackgroundColor:"";return i(QBtn,this.setBothColors(s,r,{staticClass:"q-icon-picker__icon"+(a?" q-icon-picker__active":""),style:{"font-size":this.fontSize},domProps:{id:o},props:{unelevated:!0,dense:this.dense,noWrap:!0,icon:o},on:{click:function(){e.$emit("input",o)}}}),[!0===this.tooltips&&this.__renderTooltip(i,o)])}},render:function(i){var t=this,e=i("div",this.setBothColors(this.color,this.backgroundColor,{ref:"picker",staticClass:"q-icon-picker column"}),[this.__renderBody(i),!0!==this.noFooter&&void 0!==this.pagination&&this.__renderFooter(i)]);return this.$nextTick(function(){t.__getCategories(),t.$emit("tags",t.categories)}),e}},Plugin={version:version$1,Component:Component,install:function(i){i.component(Component.name,Component)}};export{Component,Plugin as default,version$1 as version};